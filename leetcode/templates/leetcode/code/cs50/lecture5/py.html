<pre>

  <small class="text-muted"><a>1  </a></small><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">session</span>
  <small class="text-muted"><a>2  </a></small><span class="kn">from</span> <span class="nn">flask_session</span> <span class="kn">import</span> <span class="n">Session</span>
  <small class="text-muted"><a>3  </a></small>
  <small class="text-muted"><a>4  </a></small><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
  <small class="text-muted"><a>5  </a></small>
  <small class="text-muted"><a>6  </a></small><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;SESSION_PERMANENT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>
  <small class="text-muted"><a>7  </a></small><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;SESSION_TYPE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;filesystem&quot;</span>
  <small class="text-muted"><a>8  </a></small><span class="n">Session</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
  <small class="text-muted"><a>9  </a></small>
  <small class="text-muted"><a>10  </a></small><span class="nd">@app.route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;POST&quot;</span><span class="p">])</span>
  <small class="text-muted"><a>11  </a></small><span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
  <small class="text-muted"><a>12  </a></small>    <span class="k">if</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;notes&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="c1"># session initialization: session works like multithreads, specifc notes for each user;</span>
  <small class="text-muted"><a>13  </a></small>        <span class="n">session</span><span class="p">[</span><span class="s2">&quot;notes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
  <small class="text-muted"><a>14  </a></small>
  <small class="text-muted"><a>15  </a></small>    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
  <small class="text-muted"><a>16  </a></small>        <span class="n">note</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;note&quot;</span><span class="p">)</span>
  <small class="text-muted"><a>17  </a></small>        <span class="n">session</span><span class="p">[</span><span class="s2">&quot;notes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="p">)</span>
  <small class="text-muted"><a>18  </a></small>
  <small class="text-muted"><a>19  </a></small>    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;index.html&quot;</span><span class="p">,</span> <span class="n">notes</span><span class="o">=</span><span class="n">session</span><span class="p">[</span><span class="s2">&quot;notes&quot;</span><span class="p">])</span>

</pre>